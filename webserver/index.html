<!DOCTYPE html>
<html>
<head>
    <style>
        body {
            background-color: #2e2e2e; /* Dark grey background for the whole page */
            margin: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            font-family: sans-serif;
        }

        header {
            width: 100%;
            background-color: #4a4a4a; /* Lighter grey for the header */
            color: white;
            padding: 20px 0;
            text-align: center;
            border-bottom: 2px solid #555;
        }

        p {
            width: 100%;
            background-color: #4a4a4a; /* Lighter grey for the header */
            color: white;
            padding: 20px 0;
            text-align: center;
            border-bottom: 2px solid #555;
        }
        .frame-container {
            margin-top: 20px;
            display: flex;
            flex-direction: column;
            gap: 20px; /* Space between the two iframes */
        }

        iframe {
            display: block;
            background-color: #000; /* Placeholder color while loading */
        }
    </style>
</head>
<body>

    <header>
        <h1>RIP me!</h1>
    </header>
    <p> This is likely the only website that is hosted on a kernel, and allows you to directly control the rip. Have fun!
    The top includes a live feed of the windows computer hosting the driver. The lower frame holds the kernel driver and will take any input as hex and jump to it. If there are any issues press the Power Cycle button below. The lower frame holds an iframe of the webserver running on the kernel. You can access it directly at <a href="https://bluescreen.nathan2.com">bluescreen.nathan2.com</a>
    </p>

    <div class="reset-container">
    <button id="resetBtn">Power Cycle</button>
    <div id="statusMsg"></div>
</div>

<script>
const btn = document.getElementById('resetBtn');
const status = document.getElementById('statusMsg');

btn.addEventListener('click', function() {
    status.innerText = "Sent";
    status.style.color = "#0f0";

    btn.disabled = true;
    btn.style.opacity = "0.5";
    btn.style.cursor = "not-allowed";

    fetch('power.php', {
        method: 'POST',
        headers: { 'Content-Type': 'application/x-www-form-urlencoded' },
        body: 'action=reset'
    })
    .then(response => response.text())
    .then(data => {
        status.innerText = "Status: " + data;
    })
    .catch(error => {
        status.style.color = "red";
        status.innerText = "Reset fialure";
    });

    setTimeout(() => {
        btn.disabled = false;
        btn.style.opacity = "1";
        btn.style.cursor = "pointer";
        status.innerText = "Ready.";
    }, 5000);
});
</script>
    <div class="frame-container">

        <iframe
          src="https://view.nathan2.com/vnc.html?autoconnect=true&reconnect=true&viewonly=true"
          width="1260"
          height="800"
          style="border: 2px solid #0f0; pointer-events: none;"
          scrolling="no">
        </iframe>

	<div class="light-wrapper" style="background-color: white; color: black; display: inline-block;">
    <iframe
      src="https://bluescreen.nathan2.com/"
      width="1260"
      height="300"
      style="border: 2px solid #00f; background-color: white; color: black;"
      scrolling="yes">
    </iframe>
</div>

    </div>

</body>
</html>
